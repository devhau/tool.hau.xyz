{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./src/pages/admin/ui/chat/Chat.vue?103b","webpack:///./src/pages/admin/ui/chat/ChatPage.vue","webpack:///./src/pages/admin/ui/chat/Chat.vue","webpack:///./src/pages/admin/ui/chat/StickyScroll.ts","webpack:///./src/pages/admin/ui/chat/Chat.vue?48ed","webpack:///./src/pages/admin/ui/chat/ChatPage.vue?1c1c"],"names":["$","global","userAgent","slice","MSIE","test","wrap","scheduler","handler","timeout","boundArgs","arguments","length","args","call","undefined","Function","apply","this","bind","forced","setTimeout","setInterval","class","$t","chatMessages","style","height","modelValue","message","index","yours","key","text","inputMessage","sendMessage","placeholder","directive","mounted","el","binding","duration","value","isAnimated","animate","animateScroll","start","scrollTop","end","scrollHeight","change","increment","easeInOut","currentTime","elapsedTime","position","scrollToBottom","observer","MutationObserver","config","childList","observe","name","directives","StickyScroll","data","props","type","Array","default","String","methods","$emit","concat","computed","theme","getGlobalConfig","colors","render","components","Chat"],"mappings":"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","file":"js/chunk-2c50725a.787abb54.js","sourcesContent":["var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Chat.vue?vue&type=style&index=0&id=63d3db28&lang=scss\"","<template>\n  <div class=\"chat\">\n    <div class=\"row\">\n      <div class=\"flex xs12 md12\">\n        <va-card>\n          <va-card-title>{{ $t('chat.title') }}</va-card-title>\n          <va-card-content>\n            <chat v-model=\"chatMessages\"/>\n          </va-card-content>\n        </va-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Chat from './Chat'\n\nexport default {\n  name: 'chat-page',\n  components: { Chat },\n  data () {\n    return {\n      chatMessages: [\n        {\n          text: 'Hello! So glad you liked my work. Do you want me to shoot you?',\n          yours: false,\n        },\n        {\n          text: 'Yeah, that would be cool. Maybe this Sunday at 3 pm?',\n          yours: true,\n        },\n        {\n          text: 'Sounds great! See you later!',\n          yours: false,\n        },\n        {\n          text: 'Should I bring a lightbox with me?',\n          yours: true,\n        },\n        {\n          text: 'No, thanks. There is no need. Can we set up a meeting earlier?',\n          yours: false,\n        },\n        {\n          text: 'I\\'m working on Vuestic, so let\\'s meet at 3pm. Thanks!',\n          yours: true,\n        },\n      ],\n    }\n  },\n}\n</script>\n\n<style lang='scss'>\n\n</style>\n","<template>\n  <div class=\"va-chat\">\n    <div class=\"va-chat__body\" :style=\"{ height: height }\" v-sticky-scroll=\"{\n      animate: true,\n      duration: 500\n    }\">\n      <div\n        class=\"va-chat__message\"\n        v-for=\"(message, index) in modelValue\"\n        :style=\"{\n          backgroundColor: message.yours ? theme.primary : undefined\n        }\"\n        :key=\"index\"\n        :class=\"{ 'va-chat__message--yours': message.yours }\"\n      >\n        <span class=\"va-chat__message-text\">\n          {{ message.text }}\n        </span>\n      </div>\n    </div>\n    <div class=\"va-chat__controls\">\n      <va-input\n        v-model=\"inputMessage\"\n        @keypress.enter=\"sendMessage\"\n        placeholder=\"Type your message...\"\n        class=\"va-chat__input mr-2\"\n      />\n      <va-button @click=\"sendMessage()\">\n        {{ $t(\"chat.sendButton\") }}\n      </va-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport StickyScroll from './StickyScroll'\nimport { useGlobalConfig } from 'vuestic-ui'\n\nexport default {\n  name: \"chat\",\n  directives: { StickyScroll },\n  data() {\n    return {\n      inputMessage: \"\"\n    };\n  },\n  props: {\n    modelValue: {\n      type: Array,\n      default: () => [\n        {\n          text:\n            \"Hello! So glad you liked my work. Do you want me to shoot you?\",\n          yours: false\n        },\n        {\n          text: \"Yeah, that would be cool. Maybe this Sunday at 3 pm?\",\n          yours: true\n        },\n        {\n          text: \"Sounds great! See you later!\",\n          yours: false\n        },\n        {\n          text: \"Should I bring a lightbox with me?\",\n          yours: true\n        },\n        {\n          text:\n            \"No, thanks. There is no need. Can we set up a meeting earlier?\",\n          yours: false\n        },\n        {\n          text: \"I'm working on Vuestic, so let's meet at 3pm. Thanks!\",\n          yours: true\n        }\n      ]\n    },\n    height: {\n      default: \"20rem\",\n      type: String\n    }\n  },\n  methods: {\n    sendMessage() {\n      if (!this.inputMessage) {\n        return;\n      }\n      this.$emit(\n        \"update:modelValue\",\n        this.modelValue.concat({\n          text: this.inputMessage,\n          yours: true\n        })\n      );\n      this.inputMessage = \"\";\n    }\n  },\n  computed: {\n    theme() {\n      return useGlobalConfig().getGlobalConfig().colors\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\">\n// .chat {\n//   &__content {\n//     @include va-flex-center();\n//   }\n// }\n\n$chat-message-br: 0.875rem;\n\n.va-chat {\n  width: 100%;\n\n  &__body {\n    min-height: 18.75rem;\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1.5rem;\n    overflow-y: auto;\n  }\n\n  &__message {\n    position: relative;\n    padding: 0.657rem 1.375rem;\n    margin-bottom: 0.625rem;\n    max-width: 70%;\n    overflow-wrap: break-word;\n    border-radius: 0.5rem;\n    border-top-left-radius: 0;\n    align-self: flex-start;\n    // background-color: $light-gray2;\n\n    &-text {\n      display: block;\n      transform: translateY(-2px);\n    }\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    &--yours {\n      color: white;\n      align-self: flex-end;\n      border-top-right-radius: 0;\n      border-top-left-radius: 0.5rem;\n    }\n  }\n\n  &__controls {\n    display: flex;\n    align-items: center;\n  }\n\n  &__input {\n    margin-bottom: 0;\n  }\n}\n</style>\n","import { Directive } from \"@vue/runtime-core\"\n\nconst directive: Directive = {\n  mounted: (el: HTMLElement, binding: any) => {\n    const duration = binding.value.duration || 500\n    const isAnimated = binding.value.animate\n\n    const animateScroll = (duration: number) => {\n      const start = el.scrollTop\n      const end = el.scrollHeight\n      const change = end - start\n      const increment = 20\n\n      function easeInOut (currentTime: number, start: number, change: number, duration: number) {\n        currentTime /= duration / 2\n        if (currentTime < 1) {\n          return change / 2 * currentTime * currentTime + start\n        }\n        currentTime -= 1\n        return -change / 2 * (currentTime * (currentTime - 2) - 1) + start\n      }\n\n      function animate (elapsedTime: number) {\n        elapsedTime += increment\n        const position = easeInOut(elapsedTime, start, change, duration)\n        el.scrollTop = position\n\n        if (elapsedTime < duration) {\n          setTimeout(() => {\n            animate(elapsedTime)\n          }, increment)\n        }\n      }\n\n      animate(0)\n    }\n\n    const scrollToBottom = () => {\n      if (isAnimated) {\n        animateScroll(duration)\n      } else {\n        el.scrollTop = el.scrollHeight\n      }\n    }\n\n    const observer = new MutationObserver(scrollToBottom)\n    const config = { childList: true }\n    observer.observe(el, config)\n  },\n}\n\nexport default directive\n","import { render } from \"./Chat.vue?vue&type=template&id=63d3db28\"\nimport script from \"./Chat.vue?vue&type=script&lang=js\"\nexport * from \"./Chat.vue?vue&type=script&lang=js\"\n\nimport \"./Chat.vue?vue&type=style&index=0&id=63d3db28&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./ChatPage.vue?vue&type=template&id=0109aae2\"\nimport script from \"./ChatPage.vue?vue&type=script&lang=js\"\nexport * from \"./ChatPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}